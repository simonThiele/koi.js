<!doctype html>
<html>
<head profile="http://www.w3.org/2005/10/profile">
  <meta charset="UTF-8"
        name="viewport"
        content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="google" content="notranslate">

  <title>simple repeating</title>
</head>
<body>
  <script src="../build/koi.js"></script>
  <script>
    var currentAnimationTime = 100;

    var animation = new koi.Animation({
      from: {x: 0},
      to: {x: 1},
      repeating: 2,
      animationTime: currentAnimationTime
    });
    animation.onStart(progress => console.log('start'));
    animation.onRepeat(cycle => {
      console.log('start repeation', cycle);
      currentAnimationTime = currentAnimationTime * 2;
      animation.setAnimationTime(currentAnimationTime);
      console.log('doubled animation time on the fly');
    });
    animation.onUpdate(progress => console.log(progress.x));
    animation.onStop(progress => console.log('stop'));
    animation.start();
  </script>
  watch console
</body>
</html>
